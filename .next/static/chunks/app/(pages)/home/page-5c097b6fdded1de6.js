(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{3073:(e,s,t)=>{Promise.resolve().then(t.bind(t,4339))},4339:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(5155),r=t(2115),l=t(5695),c=t(6826),n=t(5799);function o(){let e=(0,l.useRouter)();return(0,r.useEffect)(()=>{localStorage.getItem("token")||(e.push(c.b.LOGIN),n.oR.error("Sem permiss\xe3o de acesso, Favor efetuar login"))},[e]),{getToken:()=>localStorage.getItem("token"),getUser:()=>localStorage.getItem("userId"),logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("userId"),e.push(c.b.LOGIN)}}}var i=t(7213),m=t(1007),d=t(381),h=t(4835),u=t(3417),x=t(6874),g=t.n(x),f=t(6766);function p(){let e=(0,l.usePathname)(),[s,t]=(0,r.useState)(!0),[n,x]=(0,r.useState)(!1),{logout:p}=o(),b=[{icon:i.A,href:c.b.HOME,label:"Imagens"}];return(0,a.jsxs)("header",{className:"flex items-center justify-between px-8 py-4 bg-white border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("img",{src:"/images/logo.png",alt:"Logo",className:"w-8 h-8"}),(0,a.jsx)("span",{className:"font-bold text-lg",children:"Smart Gym"})]}),(0,a.jsx)("nav",{className:"flex gap-8 text-gray-700 font-medium",children:b.map(s=>{let t=e===s.href,r=s.icon;return(0,a.jsx)(g(),{href:"#",className:"transition-colors px-1\n              ".concat(t?"text-indigo-700 font-bold border-b-2 border-indigo-700":"hover:text-indigo-500","\n            "),children:(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,a.jsx)(r,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:s.label})]})},s.label)})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 relative",children:[(0,a.jsx)("div",{onClick:()=>t(!s),className:"cursor-pointer px-2 py-1 rounded-full text-xs font-medium ".concat(s?"bg-green-500":"bg-red-500"),children:s?"Online":"Offline"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.default,{src:"https://github.com/joaoliotti.png",alt:"Foto",width:40,height:40,className:"rounded-full cursor-pointer",onClick:()=>x(!n)}),n&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white text-gray-800 rounded-md shadow-md z-10 animate-fade-in",children:[(0,a.jsxs)("button",{className:"flex items-center w-full px-4 py-2 hover:bg-gray-100",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"})," Perfil"]}),(0,a.jsxs)("button",{className:"flex items-center w-full px-4 py-2 hover:bg-gray-100",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2"})," Configura\xe7\xf5es"]}),(0,a.jsxs)("button",{className:"flex items-center w-full px-4 py-2 hover:bg-gray-100",onClick:function(){p(),x(!1)},children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"})," Sair"]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 my-2 flex items-center flex-row justify-center",children:[(0,a.jsx)(u.A,{size:20}),(0,a.jsx)("p",{className:"ml-2 mt-2 mb-2 text-sm text-center",children:"Vers\xe3o 1.0.0"})]})]})]})]})]})}function b(){let[e,s]=(0,r.useState)(""),[t,l]=(0,r.useState)(""),{getToken:n,getUser:i}=o();return(0,r.useEffect)(()=>{let e=i();e&&s(e),async function(){try{var e,s;let t=n();if(!t)return;let a=localStorage.getItem("userId"),r=await fetch("".concat(c.b.API.USERS,"/").concat(a),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}});if(!r.ok)return;let o=await r.json(),i=(null==o||null==(e=o.user)?void 0:e.name)||(null==o?void 0:o.name)||(Array.isArray(o)?null==(s=o[0])?void 0:s.name:void 0);i&&l(i)}catch(e){}}()},[]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(p,{}),(0,a.jsxs)("div",{className:"px-8 py-6",children:[(0,a.jsx)("div",{className:"mb-6 flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-1",children:["Ol\xe1, ",t]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Banco de imagens"})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("img",{className:"w-64 h-64",src:"/images/mascot-feliz.png",alt:"Logo"}),(0,a.jsx)("img",{className:"w-64 h-64",src:"/images/mascot-triste.png",alt:"Logo"})]})]})]})}},6826:(e,s,t)=>{"use strict";t.d(s,{b:()=>r});let a="http://localhost:3333/api/v1",r={HOME:"/home",LOGIN:"/signin",REGISTER:"/signup",DASHBOARD:"/dashboard",TICKETS:"/tickets",CUSTOMERS:"/customers",STOCK:"/stock",NEW_CUSTOMER:"/customers/new",CHAT:"/chat",REPORTS:"/reports",SETTINGS:"/settings",PROFILE:"/profile",API:{AUTH:"".concat(a,"/auth"),TICKETS:"".concat(a,"/calleds"),CUSTOMERS:"".concat(a,"/customers"),STOCK:"".concat(a,"/stock"),USERS:"".concat(a,"/users"),CHATS:"".concat(a,"/chats"),NEWS:"".concat(a,"/news")}}}},e=>{var s=s=>e(e.s=s);e.O(0,[799,556,194,441,684,358],()=>s(3073)),_N_E=e.O()}]);